[gd_scene load_steps=27 format=3 uid="uid://dkxd0fi262mch"]

[ext_resource type="Script" path="res://scripts/components/ascMap.gd" id="1_q8phr"]
[ext_resource type="TileSet" uid="uid://by4v7w1m0goe3" path="res://resources/tilesets/Wastes.tres" id="2_h477p"]
[ext_resource type="PackedScene" uid="uid://dvstysplrop1t" path="res://scenes/environment/Rope.tscn" id="3_gkab1"]
[ext_resource type="PackedScene" uid="uid://db24pbalvd8xy" path="res://scenes/entities_interactable/FastTravelPoint.tscn" id="3_t6mhi"]
[ext_resource type="PackedScene" uid="uid://by1pampbgw84d" path="res://scenes/entities/PlayerAlternate.tscn" id="4_iibdi"]
[ext_resource type="PackedScene" uid="uid://cesnt15tg850w" path="res://scenes/entities_interactable/PartyManager.tscn" id="5_rwctp"]
[ext_resource type="PackedScene" uid="uid://baol22t6hknfh" path="res://scenes/entities_interactable/ShopKeep.tscn" id="6_8oxsm"]
[ext_resource type="PackedScene" uid="uid://mjs3qc7nxo7b" path="res://scenes/components/ShopWares.tscn" id="6_ppbds"]
[ext_resource type="PackedScene" uid="uid://dxkukmp8des0d" path="res://scenes/components/CombatantSquadEnemy.tscn" id="8_5ag6f"]
[ext_resource type="Resource" uid="uid://ewb80noaamii" path="res://resources/combat/combatants_enemies/Dummy.tres" id="11_2bouc"]
[ext_resource type="PackedScene" uid="uid://bywh5xbwfj453" path="res://scenes/components/CombatDialogue.tscn" id="11_fghhp"]
[ext_resource type="Resource" uid="uid://dsqfxba1b1660" path="res://resources/combat/dialogue/combat_dialogue.dialogue" id="12_1xr6o"]
[ext_resource type="Texture2D" uid="uid://lmmr2dkcaseq" path="res://images/animations/antelope.png" id="13_s8kga"]
[ext_resource type="PackedScene" uid="uid://b2indy2nvik2c" path="res://scenes/components/Interact.tscn" id="14_ie3ty"]
[ext_resource type="Resource" uid="uid://crf6wo1o4pndo" path="res://scenes/maps/TestRoom/dialogue/TestRoomA_test_fight.dialogue" id="15_21t34"]
[ext_resource type="PackedScene" uid="uid://c7mg0vkj75woi" path="res://scenes/entities_interactable/SavePoint.tscn" id="16_jpex5"]
[ext_resource type="Texture2D" uid="uid://bbhysex5d5b3a" path="res://images/animations/ent_walker.png" id="18_hpo7g"]
[ext_resource type="Resource" uid="uid://cdl8vad57bffh" path="res://scenes/maps/TestRoom/dialogue/TestRoomB_animate.dialogue" id="19_hkcb8"]
[ext_resource type="Texture2D" uid="uid://cht1xhb8wi4h3" path="res://images/sprites/hug.png" id="20_1s302"]
[ext_resource type="PackedScene" uid="uid://cmvvapgedbg4q" path="res://scenes/entities/GenericNPC.tscn" id="21_cchwb"]
[ext_resource type="Texture2D" uid="uid://bgfd4prdnyfft" path="res://images/animations/base_battler.png" id="22_b8a2s"]
[ext_resource type="PackedScene" uid="uid://bnh7ste0fc6w4" path="res://scenes/environment/PatrollerGroup.tscn" id="23_1rrnk"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_j63u4"]
radius = 16.0
height = 36.0

[sub_resource type="Animation" id="Animation_g1n5f"]
resource_name = "Hug"
length = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("20_1s302")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_j4r3k"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("18_hpo7g")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [7]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2ni2q"]
_data = {
"Hug": SubResource("Animation_g1n5f"),
"RESET": SubResource("Animation_j4r3k")
}

[node name="Node2D" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_q8phr")

[node name="TileMap" type="TileMap" parent="."]
z_index = -1
tile_set = ExtResource("2_h477p")
cell_quadrant_size = 48
format = 2
layer_0/tile_data = PackedInt32Array(65532, 0, 0, 65533, 65536, 0, 65534, 65536, 0, 65535, 65536, 0, 0, 65536, 0, 1, 65536, 0, 2, 65536, 0, 3, 131072, 0, 65539, 131072, 1, 65538, 65536, 1, 65537, 65536, 1, 65536, 65536, 1, 131071, 65536, 1, 131070, 65536, 1, 131069, 65536, 1, 131068, 0, 1, -131070, 0, 0, -131069, 131072, 0, -65534, 131072, 0, -65533, 131072, 1, -65535, 0, 0, 327673, 65536, 0, 327674, 65536, 0, 327675, 65536, 0, 327676, 65536, 0, 327677, 65536, 0, 327678, 65536, 0, 327671, 65536, 0, 327672, 65536, 0, 327667, 65536, 0, 327668, 65536, 0, 327669, 65536, 0, 327670, 65536, 0, 327679, 65536, 0, 262144, 65536, 0, 262145, 65536, 0, 262146, 65536, 0, 262147, 65536, 0, 262148, 65536, 0, 262149, 65536, 0, 262150, 65536, 0, 262151, 65536, 0, 262152, 65536, 0, 262153, 65536, 0, 262154, 65536, 0, 262155, 65536, 0, 262156, 65536, 0, 262157, 65536, 0, 262158, 65536, 0, 262159, 65536, 0, 262160, 65536, 0, 262161, 65536, 0, 262162, 65536, 0, 262163, 65536, 0, 262164, 65536, 0, 262165, 65536, 0, 262166, 65536, 0, 262167, 65536, 0, 262168, 65536, 0, 262169, 65536, 0, 262170, 65536, 0, 262171, 65536, 0, 262172, 65536, 0, 262173, 65536, 0, 262174, 65536, 0, 262175, 65536, 0, 262176, 65536, 0, 262177, 65536, 0, 262178, 65536, 0, 262179, 65536, 0, 262180, 65536, 0, 327634, 65536, 0, 327635, 65536, 0, 327636, 65536, 0, 327637, 65536, 0, 327638, 65536, 0, 327639, 65536, 0, 327640, 65536, 0, 327641, 65536, 0, 327642, 65536, 0, 327643, 65536, 0, 327644, 65536, 0, 327645, 65536, 0, 327646, 65536, 0, 327647, 65536, 0, 327648, 65536, 0, 327649, 65536, 0, 327650, 65536, 0, 327651, 65536, 0, 327652, 65536, 0, 327653, 65536, 0, 327654, 65536, 0, 327655, 65536, 0, 327656, 65536, 0, 327657, 65536, 0, 327658, 65536, 0, 327659, 65536, 0, 327660, 65536, 0, 327661, 65536, 0, 327662, 65536, 0, 327663, 65536, 0, 327664, 65536, 0, 327665, 65536, 0, 327666, 65536, 0, 262181, 65536, 0, 262182, 65536, 0, 262183, 65536, 0, 262184, 65536, 0, 262185, 65536, 0, 262186, 65536, 0, 262187, 65536, 0, 262188, 65536, 0, 262189, 65536, 0, 262190, 65536, 0, 262191, 65536, 0, 262192, 65536, 0, 262193, 65536, 0, 262194, 65536, 0, 262195, 65536, 0, 262196, 65536, 0, 262197, 65536, 0, 262198, 65536, 0, 262199, 65536, 0, 262200, 65536, 0)
layer_1/name = ""
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = false
layer_1/y_sort_origin = 0
layer_1/z_index = 0
layer_1/tile_data = PackedInt32Array(-65534, 0, 3, -65533, 131072, 3)

[node name="PatrollerGroup" parent="." instance=ExtResource("23_1rrnk")]
max_spawns = 1

[node name="SpawnPoint" type="Marker2D" parent="PatrollerGroup"]
position = Vector2(214, 150)

[node name="SpawnPoint2" type="Marker2D" parent="PatrollerGroup"]
position = Vector2(123, 153)

[node name="SpawnPoint3" type="Marker2D" parent="PatrollerGroup"]
position = Vector2(105, -43)

[node name="SpawnPoint5" type="Marker2D" parent="PatrollerGroup"]
position = Vector2(178, -45)

[node name="SpawnPoint4" type="Marker2D" parent="PatrollerGroup"]
position = Vector2(141, -42)

[node name="Chance 1" type="Marker2D" parent="PatrollerGroup"]
position = Vector2(163, -50)

[node name="PatrollerGroup2" parent="." instance=ExtResource("23_1rrnk")]
max_spawns = 2

[node name="SpawnPoint" type="Marker2D" parent="PatrollerGroup2"]
position = Vector2(676, 166)

[node name="SpawnPoint2" type="Marker2D" parent="PatrollerGroup2"]
position = Vector2(776, 165)

[node name="Rope" parent="." instance=ExtResource("3_gkab1")]
position = Vector2(-34, -4)
segment_count = 3

[node name="FastTravel" parent="." instance=ExtResource("3_t6mhi")]
position = Vector2(133, 0)

[node name="Player" parent="." instance=ExtResource("4_iibdi")]
position = Vector2(-32, 0)

[node name="ShopKeep" parent="." instance=ExtResource("6_8oxsm")]
position = Vector2(56, 0)

[node name="ShopWares" parent="ShopKeep" instance=ExtResource("6_ppbds")]
god_shop = true

[node name="PartyManager" parent="." instance=ExtResource("5_rwctp")]
position = Vector2(-112, 0)

[node name="Fighter" type="CharacterBody2D" parent="."]
position = Vector2(-161, -20)

[node name="CombatantSquadComponent" parent="Fighter" instance=ExtResource("8_5ag6f")]
combatant_squad = Array[Resource("res://scripts/resources/ResCombatant.gd")]([ExtResource("11_2bouc")])

[node name="CombatDialogue" parent="Fighter" instance=ExtResource("11_fghhp")]
dialogue_resource = ExtResource("12_1xr6o")
enabled = false

[node name="Sprite2D" type="Sprite2D" parent="Fighter"]
position = Vector2(0, -12)
texture = ExtResource("13_s8kga")
hframes = 5
vframes = 2

[node name="InteractComponent" parent="Fighter" instance=ExtResource("14_ie3ty")]
position = Vector2(0, 8)
dialogue_resource = ExtResource("15_21t34")

[node name="SavePoint" parent="." instance=ExtResource("16_jpex5")]
position = Vector2(5, -22)

[node name="Rope2" parent="." instance=ExtResource("3_gkab1")]
position = Vector2(14, -5)
segment_count = 3
must_shoot = true

[node name="Animator" type="CharacterBody2D" parent="."]
position = Vector2(-97, 168)
collision_layer = 0

[node name="Sprite2D" type="Sprite2D" parent="Animator"]
texture = ExtResource("18_hpo7g")
hframes = 3
vframes = 3
frame = 7

[node name="InteractComponent" parent="Animator" instance=ExtResource("14_ie3ty")]
position = Vector2(0, 8)
dialogue_resource = ExtResource("19_hkcb8")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Animator"]
position = Vector2(0, 6)
shape = SubResource("CapsuleShape2D_j63u4")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Animator"]
libraries = {
"": SubResource("AnimationLibrary_2ni2q")
}

[node name="GenericNPC" parent="." instance=ExtResource("21_cchwb")]
position = Vector2(57, -48)
texture = ExtResource("22_b8a2s")

[node name="InteractComponent" parent="GenericNPC" instance=ExtResource("14_ie3ty")]
